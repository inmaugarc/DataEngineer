# DATA ENGINEER MASTER
# Data Modeling with Postgres
A Udacity Data Engineer Nanodegree Project

![Alt text](./img/music_petit.jpg?raw=true "A Project about music!!")

### Table of Contents

1. [Installation](#installation)
2. [Project Motivation](#motivation)
3. [File Descriptions](#files)
4. [Results](#results)
5. [Licensing, Authors, and Acknowledgements](#licensing)
6. [References](#references)

## Installation <a name="installation"></a>

There are some libraries that you need to install to run the code beyond the Anaconda distribution of Python. 
Those libraries are detailed in the requierements.txt file, so be sure that you meet all the requirements (by installing them with 'pip3 install requirements.txt').
The code should run with no issues using Python versions 3.* but if you find errors, please contact me.
Be the force with you!

## Project Motivation<a name="motivation"></a> 

There is a startup named Sparkify that wants to analyze the data they have been collecting about the songs and other user activity on their new music streaming app. They want to answer to the following question:

> * Question 1: What are the songs that users are listening to?


They don't have an easy way to query their data that is stored in a directory of JSON files with the logs on user activity on the app. They have also a directory with JSON metadata on the songs in their app.

The goal of this project are:
> * Creating a Postgress database with tables specifically designed to optimize queries on song play analysis. 
> * Create a database schema, defining fact and dimension tables for a star schema
> * Design and implement the ETL pipeline for the analysis. This pipeline transfers data from files in two directories into some tables in Postgress
> * Use Python and SQL

## How To <a name="howto"></a>

To run the scripts simply execute: <br>
python create_tables.py <br>
python etl.py

## File Descriptions <a name="files"></a>

The files included for the analysis are two datasets:

> * Song Dataset       - This dataset is a subset of the Million Song Dataset () and each file is in JSON format and contains metadata about a song and artist of that song. The files are partitioned by the first three letters of each songs 's track. 
> * Log Dataset        - This dataset consists of log files in JSON format generated by an event simulator based on the songs in the previous dataset. That is to simulate activity logs of users of a music streaming app.

These are the python scripts that create the databases schema and all the queries:

1. create_tables.py: Prepare all the workspace with a new schema and create all tables <br>
2. etl.py: Read the Json logs and metadata and load that info into the recently created tables
3. sql_queries.py: This script contains all the queries

## Licensing, Authors, Acknowledgements<a name="licensing"></a>

Must give credit to Udacity for collecting data and because there are some pieces of code taken out from the Data Engineer Nanodegree classrooms. 

## References <a name="references"></a>
 [Data Modeling with Postgres by Udacity](https://learn.udacity.com/nanodegrees/nd027/parts/cd0029/lessons/ls1961/concepts/1d3c5721-ca17-4483-a84a-a7e999b3d9a3) <br>
 [StackOverflow](https://stackoverflow.com/) <br>
 [Udacity Knowledge](https://knowledge.udacity.com/) <br>

